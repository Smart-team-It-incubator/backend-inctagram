// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"] // Необходимо для того, чтобы в контейнере развернулось корректно
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(uuid()) // Уникальный ID
  email             String   @unique              // Уникальный Email
  passwordHash      String?                        // Хеш пароля
  login             String?                       // Логин пользователя (опционально)
  firstName         String?                        // Имя пользователя
  lastName          String?                        // Фамилия пользователя
  role              String   @default("user")     // Роль (user/admin)
  profileImageUrl   String?                      // URL изображения профил
  isEmailVerified   Boolean  @default(false)      // Флаг подтверждения Email
  emailVerificationToken String?                 // Токен для подтверждения Email
  resetPasswordToken    String?                 // Токен для сброса пароля
  resetPasswordExpires  DateTime?               // Время истечения токена сброса пароля
  lastLogin         DateTime?                    // Время последнего входа
  createdAt         DateTime @default(now())     // Дата создания
  updatedAt         DateTime? @updatedAt         // Дата обновления
}
